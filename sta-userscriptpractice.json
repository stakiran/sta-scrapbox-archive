{"name":"sta-userscriptpractice","displayName":"sta-userscriptpractice","exported":1650172747,"pages":[
{"title":"sta","created":1609930743,"updated":1610794523,"id":"5ff597f6c0a142001e2d74fc","lines":["sta","[https://gyazo.com/37f1a03a089bba2f047aed9bf60239d2]","","code:script.js"," const LB = '\\n'"," "," fetch('/api/pages/sta/task/text').then((res) => {"," \treturn res.text()"," }).then((text) => {"," \tconst textByStr= text"," \tconst textByLines = text.split(LB)"," \tconsole.log(textByLines)"," })"," ","  //console.log(scrapbox)","  //console.log(scrapbox.Page.lines[0].text)","  //import { dummy } from '/api/code/sta-userscriptpractice/循環参照テスト/script.js';","  //import { dummy } from '/api/code/sta-userscriptpractice/takker-tritask-scrapbox/script.js';","  //import { VERSION } from '/api/code/sta-userscriptpractice/main.js/script.js';","","code:trash.js","\t fetch('/api/pages/sta/task/text').then((res) => {","   \tconsole.log(res)","   \tconsole.log(res.json) // ここまではok。function json()","   \tconsole.log(res.text) //ok","   \tconsole.log(res.text()) // promise が pending になる","   \t//console.log(res.json()) // Uncaught (in promise) SyntaxError: JSON.parse: unexpected keyword at line 1 column 1 of the JSON data ← どういうこと？scrapbox api が正しいjson返さない？？","   \t//console.log(res.json())","   })"," ","","code:style.css"," /* disable hilight in inline */"," code.code span {"," \tcolor: inherit !important;"," }",""," list1"," list2"," list3","","text1text1text1","text2","","text3 after blank line",""]},
{"title":"指定ページのテキストを取得する","created":1610794425,"updated":1610794433,"id":"6002c5b63c2c1b002241ee4a","lines":["指定ページのテキストを取得する","code:script.js"," const LB = '\\n'"," "," fetch('/api/pages/sta/task/text').then((res) => {"," \treturn res.text()"," }).then((text) => {"," \tconst textByStr= text"," \tconst textByLines = text.split(LB)"," \tconsole.log(textByLines)"," })"]},
{"title":"循環参照テスト2","created":1610622773,"updated":1610622898,"id":"6000273350404f001ceb8800","lines":["循環参照テスト2","code:script.js"," console.log('ここから始めるよー2')"," "," // これを入れたら循環になるはずだが、はてさて"," // →普通に動いたけど"," import { dummy } from '/api/code/sta-userscriptpractice/循環参照テスト/script.js';","  "," export const dummy2 = 'dummy'",""]},
{"title":"循環参照テスト","created":1610622667,"updated":1610622832,"id":"600026c6564ad4003639a17d","lines":["循環参照テスト","code:script.js"," console.log('ここから始めるよー')"," "," import { dummy2 } from '/api/code/sta-userscriptpractice/循環参照テスト2/script.js';"," "," export const dummy = 'dummy'",""]},
{"title":"エントリーポイントの書き方","created":1610060222,"updated":1610060276,"id":"5ff791bca8bd7100365a02c6","lines":["エントリーポイントの書き方"," [/villagepump/pin-diary-2]"," \tcode:js","   import {execute} from '/api/code/villagepump/pin-diary/user.js'","   execute();","  code:dynamicimport.js","   import('/api/code/villagepump/pin-diary/user.js')","     .then(({execute}) => execute());",""]},
{"title":"作業ログ","created":1609931582,"updated":1610020606,"id":"5ff59b3a928c98002204b46f","lines":["作業ログ","","[*** 2021/01/07]"," [takker-tritask-scrapbox]試してみた"," 軽く使ってみた後の検討……は[/sta/Tritask-scrapbox]で","","[*** 2021/01/06]","\tまとめ","\t\timport時は script.js しか受け付けない","\t\t\tただし同ページ内なら xxxxx.js のロードできる","\t\tページでは xxxx.js で定義して、scripts.js で xxxx.js 読み込んで export する ← こうなる","\t\t`export default {ここはobject定義やで}`","\t\texport statement は変数定義の前に評価されるので、変数名とか template string とか書くと syntax error になる","","\t毎回リロードボタン押すのだるいし、main.js とかに任せた方がよくない？","\t\t>Uncaught SyntaxError: missing : after property id","\t\tcode:ユーザーページでこうしてるんやが.js","   import main from '/api/code/sta-userscriptpractice/main.js/script.js';","\t\tああ、そうか、`export default {この中はkvですね}`","\t\tできた","\t\tこれなら[main.js]修正してもいちいちリロードボタン押さなくていい","\t\t\tなんかコードがトリッキー風味で気持ち悪いが","\tおとなしく exportee url は直に書きなさい","\t\t>SyntaxError: missing module specifier after 'from' keyword","\t\tcode:これ何がダメ？.js","\t\t  const mydir = '/api/code/sta-userscriptpractice/'","    ","    //export { c } from '/api/code/sta-userscriptpractice/util/c.js';","    export { c } from `${mydir}/util/c.js`;","  export では template string 使えない？","\t\t答え知るためのググりキーワードが思い浮かばん","\t\tjsの評価順序的にNGってこと？","\t\t\tsyntax error じゃなくて runtime error じゃね？","\t\texport statement のときだけ template string が syntax error になる？？？","\t\tcode:これもダメ.js","\t\t  const mydir = '/api/code/sta-userscriptpractice/'","    const _c = `${mydir}/util/c.js`","    ","    export { c } from _c","\t\t>Uncaught SyntaxError: missing module specifier after 'from' keyword","\t\tやっぱり評価順序やろな","\t\t\tpythonでもデフォルト引数のところexpression書けない、とかあるし","\tおおー","\t\t[https://gyazo.com/55b4b190c59e5c1b77ff701c5aa70c38]","\t何もでなくなったなぜだ"," \t[https://gyazo.com/09ac7bfad6a153c492a39f9eab246b48]","\t\tGET 404 は消したけど結果変わらん（まあそうか）","\t\t何が起きた……","\t\tタブ閉じてまた開き直したら復帰","\t\t\tなんなん",""]},
{"title":"takker-tritask-scrapboxお試し","created":1610019681,"updated":1610020356,"id":"5ff6f35f9acc01001c03f440","lines":["takker-tritask-scrapboxお試し","","[*** まとめ]"," from [/takker/tritask-scrapbox]"," altベースだと一部キーが衝突する"," \tahkの問題なので各自適当に解消して"," ソートは alt+a alt+z かなぁ"," そもそもソート要らないかも","","[*** sortの残骸]"," まあページ内全部でやるよな"," takkerさんも言及してた（？）けど、並び替えしやすいscrapboxではソート要らんかもなぁ",""," \t\tahk userが各自でやればいいこと"," \t\tscrapbox windows のときだけ除外する設定で凌ぐしかないか"," \t[https://gyazo.com/594357e22666c461e0812c545fae57b1]"," \tもっというとahk"," alt + 1 …… fenrir"," alt + s …… firefox の履歴","`  2021-01-07 Thu            `","`  2021-01-07 Thu            `","`  2021-01-07 Thu            `","`  2021-01-07 Thu            `","`  2021-01-07 Thu            `1","`  2021-01-07 Thu            `2","`  2021-01-07 Thu            `3","`  2021-01-07 Thu            `4","`  2021-01-07 Thu            `5","`  2021-01-07 Thu            `aaa","`  2021-01-07 Thu            `sort?","`  2021-01-07 Thu            `task","`  2021-01-07 Thu            `task1","`  2021-01-07 Thu            `task2","`  2021-01-07 Thu            `task2","`  2021-01-07 Thu            `task2","`  2021-01-07 Thu            `test","`  2021-01-07 Thu            `test","`  2021-01-07 Thu            `testaaa","`  2021-01-07 Thu 20:00 20:11`task","add","close","copy","sort","start end","walk +1","被る"]},
{"title":"takker-tritask-scrapbox","created":1610019358,"updated":1610020309,"id":"5ff6f21d397773001ce1baf7","lines":["takker-tritask-scrapbox",">継続的に使う場合は、依存コードを全て自分の個人projectにコピーすることをおすすめします","","","code:script.js"," import {","   addTask, addInbox, copyTask,","   startTask, endTask, posterioriEndTask, closeTask,","   selectContent, walkDay, moveToday, changeInbox, sort, report,"," } from '/api/code/takker/tritask-scrapbox/script.js';"," import {scrapBindings} from '/api/code/takker/ScrapBindings/script.js';"," "," const config = [","   {key: 'alt+a alt+a', command: () => {addTask();return false;},},","   {key: 'alt+a alt+x', command: () => {addInbox();return false;},},","   {key: 'alt+a alt+c', command: () => {copyTask();return false;},},","   {key: 'alt+a alt+s', command: () => {startTask();return false;},},","   {key: 'alt+a alt+e', command: () => {endTask();return false;},},","   {key: 'alt+a alt+0', command: () => {posterioriEndTask();return false;},},","   {key: 'alt+a alt+q', command: () => {closeTask();return false;},},","   {key: 'alt+a alt+/', command: () => {selectContent();return false;},},","   {key: 'alt+a alt+1', command: () => {walkDay();return false;},},","   {key: 'alt+a alt+t', command: () => {moveToday();return false;},},","   {key: 'alt+a alt+i', command: () => {changeInbox();return false;},},","   {key: 'alt+a alt+z', command: () => {sort();return false;},},","   //{key: 'alt+a alt+shift+s', command: () => {sort();return false;},},","   {key: 'alt+a alt+.', command: () => {report();return false;},},","   //{key: 'alt+a alt+b', command: () => {selectPlanningTime(); return false;},},","   //{key: 'alt+a alt+m', command: () => {selectEstimatedTime(); return false;},},"," ];"," "," scrapBindings.install()","  .then(() => scrapBindings.push(...config));"," "," export const dummy = 'dummy'","","[お試し]",""]},
{"title":"main.js","created":1609932630,"updated":1609933176,"id":"5ff59f518d934500368bca5b","lines":["main.js","code:script.js"," console.log('yeah!');"," console.log(scrapbox);"," import { c } from '/api/code/sta-userscriptpractice/util/script.js';"," c('読み込んできた関数を実行したZE☆');"," "," export const VERSION = 'tritask-scrapbox v0.0.1'",""]},
{"title":"util","created":1609930887,"updated":1609932590,"id":"5ff59877101318003664cb17","lines":["util","code:script.js"," export { c } from '/api/code/sta-userscriptpractice/util/c.js'","","code:c.js"," export function c(msg){"," \tconsole.log(msg);"," }",""]},
{"title":"settings","created":1609931663,"updated":1609931667,"id":"5ff59b8c69e764001cd248c4","lines":["settings","code:style.css"," ",""]},
{"title":"UserScriptが読み込まれるタイミング","created":1609930819,"updated":1609930851,"id":"5ff59841262e04001c1c4ac2","lines":["UserScriptが読み込まれるタイミング"," F5リロードしたとき"," \t一覧画面でもページでも","\t\t初回は上部の reload リンク押す必要あり（変更時）",""]}
]}