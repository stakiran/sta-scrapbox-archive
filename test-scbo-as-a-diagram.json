{"name":"test-scbo-as-a-diagram","displayName":"test-scrapbox-as-a-diagram","exported":1650172913,"pages":[
{"title":"entrypoint","created":1621640756,"updated":1625139147,"id":"60a846321bda880022b4a506","lines":["entrypoint","[https://gyazo.com/dc32c6a5976cb25d2c1e31ff099ebf41]",""," [vpc-1]","\t[cloudfront-frontend]"," [s3bucket-frontend]",""]},
{"title":"sta","created":1621641785,"updated":1633762713,"id":"60a84a3831d82a0022317ce1","lines":["sta","[https://gyazo.com/505861e8a5c21ae87eb972c4affd8841]","","code:style.css"," /* disable hilight in inline */"," code.code span {"," \tcolor: inherit !important;"," }","","AWSのダイアグラムは以下を使っています"," [AWS シンプルアイコン - AWS アーキテクチャーセンター | AWS https://aws.amazon.com/jp/architecture/icons/]"," リリース 7のPNG",""]},
{"title":"cloudfront-frontend","created":1621642449,"updated":1625139158,"id":"60a84ccf3b621b001d198924","lines":["cloudfront-frontend","[https://gyazo.com/c4f6905d75c29d67fc4a66df988b1bc6]","","[@boundary-from]"," [waf-allow-from-company]"," [waf-deny-about-bot]","","config"," from * to [s3bucket-frontend]",""]},
{"title":"rds-1","created":1621642279,"updated":1625139102,"id":"60a84c259045bd001c3e31e7","lines":["rds-1","[https://gyazo.com/c8802f77656f7e9250689ed0b9e600a3]","","[@boundary-from]"," [sg-allow-from-default]",""]},
{"title":"docdb-1","created":1621642092,"updated":1625139082,"id":"60a84b6bdffe05001ceed149","lines":["docdb-1","[https://gyazo.com/63062564d98aab44b9d7dadcd9624985]","","[@boundary-from]"," [sg-allow-from-default]",""]},
{"title":"alb-1","created":1621641466,"updated":1625139035,"id":"60a848f87ecef4002331c7d1","lines":["alb-1","[https://gyazo.com/759ec7a2c6a5a7cb0df252341b3eb754]","","[@boundary-from]"," [waf-deny-about-bot]"," [sg-allow-from-company]","","@contains","\t[alblistener-to-backend]",""]},
{"title":"subnet-private(i)","created":1621641218,"updated":1625139016,"id":"60a847f49045bd001c3e2dc7","lines":["subnet-private(i)","[https://gyazo.com/0e66214bfb601ca5b5b182ea30bd3c10]","","@contains","\t[gateway-nat(i)]","","@contains","\t[routetable-for-private(i)]","","@contains"," [alb-1]","","@contains_dynamically","\t[docdb-1]","\t[rds-1]","\t[ecs-task-backend]",""]},
{"title":"subnet-public(i)","created":1621641329,"updated":1625139006,"id":"60a8486489c45c001c878bce","lines":["subnet-public(i)","[https://gyazo.com/a8c972392cc7c0c06f2261d4c4385681]","","@contains","\t[routetable-for-public(i)]","","@contains"," [alb-1]",""]},
{"title":"vpc-1","created":1621641181,"updated":1625138982,"id":"60a847dacc5f58001c87b047","lines":["vpc-1","[https://gyazo.com/60d8645d85225f05021a7ed5af78c18a]","","@contains"," [subnet-private(i)]"," [subnet-public(i)]","","@contains"," [gateway-internet-1]","","@contains"," [sg-allow-from-default]"," [sg-allow-from-company]",""]},
{"title":"route-to-ig(i)","created":1621643090,"updated":1621643092,"id":"60a84f504e8cbe001c503f64","lines":["route-to-ig(i)","config","\tfrom `0.0.0.0/0` to [gateway-internet-1]",""]},
{"title":"routetable-for-public(i)","created":1621641422,"updated":1621643087,"id":"60a848c94e8cbe001c503e53","lines":["routetable-for-public(i)","@contains"," [route-to-local]"," [route-to-ig(i)]",""]},
{"title":"route-to-nat(i)","created":1621643068,"updated":1621643070,"id":"60a84f3a9d856f001cd88fcb","lines":["route-to-nat(i)","config","\tfrom `0.0.0.0/0` to [gateway-nat(i)]",""]},
{"title":"routetable-for-private(i)","created":1621641346,"updated":1621643065,"id":"60a848809d856f001cd88d99","lines":["routetable-for-private(i)","@contains"," [route-to-local]"," [route-to-nat(i)]",""]},
{"title":"route-to-local","created":1621643056,"updated":1621643059,"id":"60a84f2d3e1cca0022a6b8e1","lines":["route-to-local","config","\tfrom `10.0.0.0/0` to `local`"]},
{"title":"社内からのアクセスは性善説","created":1621642567,"updated":1621642755,"id":"60a84d45e1195f0022afba1e","lines":["社内からのアクセスは性善説"," 会社の外向きGlobal IPは決まっているため、これを用いたホワイトリストをすれば比較的かんたんにセキュリティを担保できる"," ファイアウォールとしてこのホワイトリストのみを使っている場合、それは「社内からのアクセスは安全とみなしていい」つまりは性善説に則っていると解釈できる","","則っていいケース"," 事業部内の展開に閉じたフェーズ","","則ってはいけないケース"," 事業部を超えた範囲に提供するフェーズ",""]},
{"title":"sg-allow-from-company","created":1621641747,"updated":1621642563,"id":"60a84a0f82c5c5001d938ae2","lines":["sg-allow-from-company","config","\tingress"," \tall all from company's global IPs","\tegress"," \tallow all","","context"," [社内からのアクセスは性善説]",""]},
{"title":"waf-allow-from-company","created":1621642476,"updated":1621642540,"id":"60a84ce727b74e002294cf67","lines":["waf-allow-from-company","config"," allow all from company's global IPs","","context"," [社内からのアクセスは性善説]だが、cloudfrontにはsgを付与できないため、wafとしてもつくる必要がある",""]},
{"title":"ecs-task-backend","created":1621642292,"updated":1621642292,"id":"60a84c329b430e001cf81a8e","lines":["ecs-task-backend","[@boundary-from]"," [sg-allow-from-default]",""]},
{"title":"waf-deny-about-bot","created":1621641925,"updated":1621642025,"id":"60a84ac2cc06a0001c83b289","lines":["waf-deny-about-bot","config"," use managementrule-xxx"," use managementrule-yyy"," use managementrule-zzz","","context"," 料金過多やダウンを防ぐために、DDOSやBotアクセスなど無差別アクセス系を封じる"," 凝るときりがないので、プロジェクトABCで前例のあるルールを厳選して使用",""]},
{"title":"alblistener-to-backend","created":1621641501,"updated":1621641510,"id":"60a849197094ef0022551bbe","lines":["alblistener-to-backend","@contains"," [targetgroup-to-backend]",""]}
]}